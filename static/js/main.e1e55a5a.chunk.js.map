{"version":3,"sources":["components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/App/App.styled.jsx","components/App/App.jsx","index.js"],"names":["SearchForm","styled","form","Header","header","Button","button","Label","label","Input","input","Searchbar","onSubmit","this","props","type","className","id","onChange","autoComplete","autoFocus","placeholder","Component","Image","img","Item","li","ImageGalleryItem","p","alt","onClick","largeImageURL","src","Gallery","ul","Spinner","div","ImageGallery","hits","visible","onSelect","map","webformatURL","tags","color","height","width","timeout","LoadButton","Overlay","ModalEl","Modal","handleKeyPress","e","key","closeModal","handleOverlayClick","target","nodeName","selectedImage","window","addEventListener","document","body","removeEventListener","Container","App","state","data","query","page","loaderVisible","handleInput","setState","value","fetchData","a","axios","get","then","toggleLoaderVisible","catch","error","console","log","alert","preventDefault","textInput","loadMore","setTimeout","handleSelectedImage","handleCloseModal","notify","toast","warn","theme","prevProps","prevState","scrollTo","top","documentElement","scrollHeight","behavior","length","totalHits","rule","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e1e55a5a.chunk.js","sourcesContent":["import styled from '@emotion/styled';\r\n\r\nconst SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Header = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: red;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nconst Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n    }\r\n`;\r\n\r\nconst Label = styled.label`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  line-height: 50px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n    };\r\n`;\r\n\r\nexport {SearchForm, Header, Button, Label, Input};","import React, { Component, Fragment } from 'react';\r\nimport { Header, SearchForm, Button, Label, Input } from './Searchbar.styled';\r\n\r\nclass Searchbar extends Component {\r\n    render() {\r\n        // console.log(this.props);\r\n        return (\r\n        <Fragment>\r\n            <Header>\r\n                <SearchForm\r\n                    onSubmit={this.props.onSubmit}\r\n                >\r\n                <Button type=\"submit\">\r\n                <Label>Search</Label>\r\n                </Button>\r\n\r\n                <Input\r\n                    className=\"SearchForm-input\"\r\n                    id =\"textInput\"\r\n                    type=\"text\"\r\n                    onChange={this.props.onChange} \r\n                    autoComplete=\"off\"\r\n                    autoFocus\r\n                    placeholder=\"Search images and photos\"\r\n                />\r\n                </SearchForm>\r\n            </Header>\r\n        </Fragment>\r\n    );\r\n    }\r\n}\r\n\r\nexport default Searchbar;","import styled from '@emotion/styled';\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n    }\r\n`;\r\n\r\nconst Item = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport {Image, Item};","import React, { Fragment } from 'react';\r\nimport { Image, Item } from './ImageGalleryItem.styled';\r\n\r\nfunction ImageGalleryItem(p) {\r\n    const { alt, onClick, largeImageURL } = p;\r\n\r\n    return (\r\n        <Fragment>\r\n            <Item>\r\n                <Image onClick={() =>\r\n                    onClick(largeImageURL, alt)}\r\n                    src={largeImageURL}\r\n                    alt={alt}\r\n                />\r\n           </Item>\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default ImageGalleryItem;","import styled from \"@emotion/styled\";\r\n\r\n\r\nconst Gallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  /* margin-bottom: 0; */\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nconst Spinner = styled.div`\r\n    text-align: center;\r\n`\r\nexport { Gallery, Spinner};","import React from 'react';\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport { Gallery, Spinner } from './ImageGallery.styled';\r\n\r\nfunction ImageGallery(p) {\r\n  const { hits, visible, onSelect } = p;\r\n    \r\n  return (\r\n    <>\r\n    <Gallery>\r\n        {hits.map(({ webformatURL, tags, largeImageURL,id }) =>\r\n          <ImageGalleryItem\r\n          onClick={onSelect}\r\n          key={`${id}+${webformatURL}`}\r\n          largeImageURL={largeImageURL}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          />\r\n        )}\r\n    </Gallery>\r\n    \r\n    {visible && \r\n        <Spinner>\r\n          <Loader\r\n            // visible={visible}\r\n            type=\"ThreeDots\"\r\n            color=\"Orange\"\r\n            height={100}\r\n            width={100}\r\n            timeout={3000}\r\n          />\r\n        </Spinner>}\r\n      </>\r\n  );\r\n}\r\n\r\n\r\nexport default ImageGallery;\r\n","import styled from \"@emotion/styled\";\r\n\r\n\r\nconst LoadButton = styled.button`\r\n  padding: 8px 16px;\r\n  margin: 0 auto;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n&:hover, :focus {\r\n  background-color: #303f9f;\r\n}\r\n`;\r\n\r\nexport {LoadButton}","import React from 'react';\r\nimport {LoadButton} from './Button.styled'\r\n\r\nfunction Button(p) {\r\n    return (\r\n        <LoadButton\r\n            type=\"button\"\r\n            onClick={p.onClick}\r\n        >\r\n            Load more\r\n        </LoadButton>\r\n    );\r\n}\r\n\r\nexport default Button;\r\n\r\n","import styled from '@emotion/styled';\r\n\r\nconst Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nconst ModalEl = styled.div`\r\n  /* position: absolute; */\r\n  padding:70px;\r\n   display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  max-width: 75vw;\r\n  height: 50vh;\r\n`;\r\n\r\nexport {Overlay, ModalEl};","import React, { Component } from 'react';\r\nimport {Overlay, ModalEl} from './Modal.styled'\r\n\r\nclass Modal extends Component {\r\n    componentDidMount() {\r\n        if (this.props.selectedImage !== null) {\r\n            window.addEventListener('keydown',\r\n                this.handleKeyPress\r\n            );\r\n            document.body.className = 'noScrollWhileModal';\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeyPress);\r\n        document.body.className = '';\r\n    }\r\n  \r\n    handleKeyPress = (e) => {\r\n        if (e.key === 'Escape') {\r\n            this.props.closeModal()\r\n        }\r\n    }\r\n\r\n    handleOverlayClick = (e) => {\r\n        if (e.target.nodeName !== \"IMG\" ) {\r\n            this.props.closeModal()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { src, alt } = this.props.selectedImage;\r\n        \r\n        return (\r\n            <Overlay onClick={this.handleOverlayClick}>\r\n                <ModalEl>\r\n                    <img src={src} alt={alt} />\r\n                </ModalEl>\r\n            </Overlay>      \r\n        );\r\n    }\r\n}\r\n\r\nexport default Modal;","import styled from \"@emotion/styled\";\r\n\r\nconst Container = styled.div`\r\n  padding-bottom: 24px;\r\n`\r\nexport { Container };\r\n\r\n\r\n","import { Component } from \"react\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport ImageGallery from \"../../components/ImageGallery/ImageGallery\";\nimport Button from \"../../components/Button/Button\";\nimport axios from \"axios\";\nimport Modal from \"../Modal/Modal\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { Container } from './App.styled';\n\nclass App extends Component {\n  state= {\n    data: {},\n    hits:[],\n    query: \"\",\n    page: 1,\n    selectedImage: null,\n    loaderVisible: false\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, data, hits, selectedImage, query} = this.state;\n\n      if (page !== prevState.page) {\n          window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n      });\n      }\n      \n      if (hits.length === data.totalHits && selectedImage === null && query     === prevState.query) {\n         setTimeout(this.notify, 3000)\n      }\n  }\n\n\n  handleInput = (e) => {\n     this.setState({ query: e.target.value })\n  }\n  \n  \n  fetchData = async () => { \n    const URL = `https://pixabay.com/api/?per_page=12\n    &key=22788715-8437fcb04a405122d442af916&image_type=photo&orientation=horizontal`;\n    \n    await axios.get(`${URL}&q=${this.state.query}&page=${this.state.page}`)\n    .then(({data}) => {\n      this.setState(state =>({ data, hits: [...state.hits, ...data.hits] }));\n      this.toggleLoaderVisible();\n    })\n    .catch(error => { console.log(error); alert(error) })\n  }\n\n\n  onSubmit = (e) => {\n    e.preventDefault()\n\n    this.toggleLoaderVisible();\n    e.target.textInput.value = \"\";\n\n    this.setState(({ page: 1, hits: [] }),\n      () => { this.fetchData() }\n    );\n  }\n\n\n  loadMore = (e) => {\n    this.toggleLoaderVisible();\n    setTimeout(this.setState(({ page: this.state.page + 1 }),\n      () => { this.fetchData() }\n    ), 2000)\n  }\n\n\n  handleSelectedImage = (src, alt) => {\n    this.setState({ selectedImage: { src, alt } })\n  }\n\n\n  toggleLoaderVisible = () =>{\n    this.setState({loaderVisible: !this.state.loaderVisible})\n  }\n\n\n  handleCloseModal = () => {\n    this.setState({selectedImage: null})\n  }\n\n\n  notify = () => {\n    toast.warn(\"There are no more images that fit to your query\", {\n        theme: \"colored\"\n    })\n  }\n\n\n  render() {    \n    const { hits, loaderVisible, selectedImage, data } = this.state;\n    const rule = hits.length > 11 && !loaderVisible && hits.length < data.totalHits;\n    \n    return (\n      <Container>\n        <ToastContainer\n          position=\"bottom-center\"\n          autoClose=\"off\"\n        />\n        <Searchbar\n          onSubmit={this.onSubmit}\n          onChange={this.handleInput}\n        />\n        <ImageGallery\n          hits={hits}\n          visible={loaderVisible}\n          onSelect={this.handleSelectedImage}\n        />\n        {rule &&\n          <Button\n          onClick={this.loadMore}\n          />}\n        {selectedImage &&\n          <Modal\n          selectedImage={selectedImage}\n          closeModal={this.handleCloseModal}\n        />\n        } \n      </Container>\n    );\n }\n}\n\nexport default App;\n\n\n// Your API key: 22788715-8437fcb04a405122d442af916\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App.jsx\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}